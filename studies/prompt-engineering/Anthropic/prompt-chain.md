---
sidebar_position: 7
slug: prompt-chain
title: 프롬프트 체인
authors: [3sam3]
tags:
  [
    document,
    doc,
    ai,
    artificial intelligence,
    prompt engineering,
    prompt,
    claude,
    anthropic,
  ]
date: 2024-10-21T01:00:00
---

## 개요

복잡한 작업을 수행할 때 `Claude`는 때때로 단일 프롬프트로 모든 것을 처리하려고 하면 실수를 할 수 있습니다. 사고 연쇄(CoT) 프롬프팅은 훌륭하지만, 작업에 각각 심층적인 사고가 필요한 여러 개의 구별되는 단계가 있다면 어떨까요?

프롬프트 체인이 등장합니다: 복잡한 작업을 더 작고 관리하기 쉬운 하위 작업으로 나누는 것입니다.

## 프롬프트를 체인화하는 이유는 무엇인가요?

- `정확성`: 각 하위 작업에 `Claude`의 전체 주의력이 집중되어 오류가 줄어듭니다.
- `명확성`: 더 간단한 하위 작업은 더 명확한 지시와 출력을 의미합니다.
- `추적 가능성`: 프롬프트 체인의 문제를 쉽게 찾아내고 수정할 수 있습니다.

## 언제 프롬프트를 체인화해야 하나요

연구 종합, 문서 분석 또는 반복적인 콘텐츠 생성과 같은 다단계 작업에 프롬프트 체인을 사용하세요. 작업에 여러 변환, 인용 또는 지시사항이 포함된 경우 체인화를 통해 `Claude`가 단계를 누락하거나 잘못 처리하는 것을 방지할 수 있습니다.

기억하세요: 체인의 각 링크는 `Claude`의 전체 주의력을 받습니다!

:::tip
디버깅 팁: Claude가 단계를 놓치거나 성능이 좋지 않은 경우, 해당 단계를 자체 프롬프트로 분리하세요. 이를 통해 전체 작업을 다시 수행하지 않고도 문제가 있는 단계를 미세 조정할 수 있습니다.
:::

## 프롬프트를 체인화하는 방법

1. `하위 작업 식별`: 작업을 구별되고 순차적인 단계로 나눕니다.
2. `명확한 전달을 위해 XML로 구조화`: XML 태그를 사용하여 프롬프트 간에 출력을 전달합니다.
3. `단일 작업 목표 설정`: 각 하위 작업은 단일하고 명확한 목표를 가져야 합니다.
4. `반복`: `Claude`의 성능을 기반으로 하위 작업을 개선합니다.

## 체인화된 워크플로우 예시:

- `다단계 분석`: 아래의 법률 및 비즈니스 예시를 참조하세요.
- `콘텐츠 생성 파이프라인`: 연구 → 개요 → 초안 → 편집 → 형식 지정.
- `데이터 처리`: 추출 → 변환 → 분석 → 시각화.
- `의사 결정`: 정보 수집 → 옵션 나열 → 각 옵션 분석 → 추천.
- `검증 루프`: 콘텐츠 생성 → 검토 → 개선 → 재검토.

:::tip
최적화 팁: 독립적인 하위 작업(여러 문서 분석 등)이 있는 작업의 경우, 별도의 프롬프트를 만들고 속도를 위해 병렬로 실행하세요.
:::

---

## 예시

### 프롬프트 1

```bash
# 질의
"이 의학 연구 논문을 요약하세요.

<paper>{{RESEARCH_PAPER}}</paper>

방법론, 발견 사항 및 임상적 의의에 초점을 맞추세요."

# 응답
"방법론: 제2형 당뇨병 환자 500명을 대상으로 한 이중 맹검 무작위 대조 시험. A군(n=250)은 새로운 GLP-1/GIP 이중 작용제를 투여받았고, B군(n=250)은 표준 GLP-1 작용제를 투여받았습니다. 24주 시험으로 주요 평가 지표는 HbA1c 감소였습니다.

발견 사항:
- A군: 평균 HbA1c 1.8% 감소
- B군: 평균 HbA1c 1.1% 감소
- A군의 68% vs B군의 52%가 HbA1c <7% 달성
- A군: 평균 체중 감소 5.2kg
- B군: 평균 체중 감소 3.1kg

안전성: 유사한 부작용 프로필, 치료와 관련된 심각한 사건 없음.

임상적 의의: 이중 작용제는 표준 요법에 비해 우수한 혈당 조절과 체중 감소를 보여줍니다. 특히 비만 당뇨병 환자에게 게임 체인저가 될 수 있습니다."
```

### 프롬프트 2

```bash
# 질의
"당신의 임무는 연구 논문 요약에 대한 피드백을 제공하는 것입니다. 다음은 의학 연구 논문의 요약입니다:
<summary>
  {{SUMMARY}}
</summary>

다음은 연구 논문입니다:
<paper>
  {{RESEARCH_PAPER}}
</paper>

이 요약의 정확성, 명확성 및 완전성을 A-F 등급으로 검토하세요."

# 응답
"1. 정확성: A
- 주요 통계를 정확히 보고: HbA1c 감소, 체중 감소.
- 안전성 프로필과 심각한 부작용 없음을 정확히 언급.
- “게임 체인저”라는 주장은 현저히 나은 결과로 정당화됨.

2. 명확성: A-
- 간결하고 잘 구조화되어 있으며 명확한 섹션 구분.
- 맥락을 위해 비교 언어(예: “1분기 대비 3% 상승”) 사용이 좋음.
- 사소한 문제: “RCT,” “GLP-1,” “GIP” 등의 약어가 정의되지 않음. 첫 사용 시 풀어쓰는 것을 고려하세요.

3. 완전성: B+
- 요청된 모든 영역 포함: 방법론, 발견 사항, 임상적 의의.
- 누락: 그룹의 기준 특성(잘 매칭되었는지?).
- 누락: 2차 평가 지표(예: 혈압, 지질).
- 고려사항: 장기적 의의 또는 추가 연구 필요성.

전반적으로 요약은 정확하고 명확하며, 연구를 빠르게 파악하는 데 필요한 주요 통찰력을 제공합니다. A+로 향상시키려면 약어를 정의하고, 그룹 기준 통계를 언급하며, 2차 결과를 기록하고, 장기 연구의 필요성을 간단히 언급하세요."
```

### 프롬프트 3

```bash
# 질의
"당신의 임무는 피드백을 받아 논문 요약을 개선하는 것입니다. 다음은 의학 연구 논문의 첫 번째 초안입니다:
<summary>
  {{SUMMARY}}
</summary>

다음은 연구 논문입니다:
<paper>
  {{RESEARCH_PAPER}}
</paper>

다음은 피드백입니다:
<feedback>
  {{FEEDBACK}}
</feedback>

피드백을 바탕으로 요약을 업데이트하세요."

# 응답
"방법론: 제2형 당뇨병 환자 500명을 대상으로 한 이중 맹검 무작위 대조 시험(RCT). A군(n=250)은 새로운 글루카곤 유사 펩티드-1/포도당 의존성 인슐린 분비 촉진 폴리펩티드(GLP-1/GIP) 이중 작용제를 투여받았고, B군(n=250)은 표준 GLP-1 작용제를 투여받았습니다. 24주 시험의 주요 평가 지표는 HbA1c 감소였습니다. 그룹은 연령, BMI, 기준 HbA1c에 대해 잘 매칭되었습니다.

발견 사항:
- A군: 평균 HbA1c 1.8% 감소
- B군: 평균 HbA1c 1.1% 감소
- A군의 68% vs B군의 52%가 HbA1c <7% 달성
- A군: 평균 체중 감소 5.2kg
- B군: 평균 체중 감소 3.1kg

2차 평가 지표는 두 그룹 모두 혈압과 지질 프로필의 개선을 보여주었으며, A군이 약간 더 나은 결과를 보였습니다.

안전성: 유사한 부작용 프로필로, 두 치료법 모두에서 심각한 사건이 발생하지 않았습니다.

임상적 의의: GLP-1/GIP 이중 작용제는 표준 GLP-1 요법에 비해 우수한 혈당 조절과 체중 감소를 보여줍니다. 이러한 결과는 특히 비만 당뇨병 환자에게 중요한 진전이 될 수 있음을 시사합니다. 그러나 지속적인 효능과 안전성을 확인하고 심혈관 결과에 대한 잠재적 이점을 조사하기 위해 더 장기적인 연구가 필요합니다."
```
